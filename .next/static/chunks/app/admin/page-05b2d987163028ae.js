(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{7165:function(e,t,s){Promise.resolve().then(s.bind(s,2914))},2914:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return x}});var a=s(7437),r=s(2265),n=s(6013),c=s(3102),l=s(495),i=s(5137),o=s(1240),d=s(6935),u=s(6273),m=s(7138);function x(){let[e,t]=(0,r.useState)([]),[s,x]=(0,r.useState)([]),[h,f]=(0,r.useState)(!0),[y,b]=(0,r.useState)("customers");async function p(e){e.preventDefault();let s=String(new FormData(e.currentTarget).get("customerName")||"").trim();if(!s){alert("Customer name is required");return}try{let a=await fetch("/api/customers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:s})}),r=await a.json();if(!a.ok){alert(r.error||"Failed to create customer");return}t(e=>[r,...e]),e.currentTarget.reset(),alert("Customer added successfully!")}catch(e){console.error("Failed to add customer:",e),alert("Failed to add customer. Please try again.")}}async function g(e){e.preventDefault();let t=String(new FormData(e.currentTarget).get("bankAccountName")||"").trim();if(!t){alert("Bank account name is required");return}try{let s=await fetch("/api/bank-accounts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t})}),a=await s.json();if(!s.ok){alert(a.error||"Failed to create bank account");return}x(e=>[a,...e]),e.currentTarget.reset(),alert("Bank account added successfully!")}catch(e){console.error("Failed to add bank account:",e),alert("Failed to add bank account. Please try again.")}}return((0,r.useEffect)(()=>{(async function(){try{let[e,s]=await Promise.all([fetch("/api/customers"),fetch("/api/bank-accounts")]),a=await e.json(),r=await s.json();t(a),x(r)}catch(e){console.error("Failed to load data:",e),alert("Failed to load data. Please refresh the page.")}finally{f(!1)}})()},[]),h)?(0,a.jsx)("div",{className:"min-h-screen w-full bg-gray-50 flex items-center justify-center",children:(0,a.jsx)("div",{className:"text-lg text-gray-600",children:"Loading..."})}):(0,a.jsxs)("div",{className:"min-h-screen w-full bg-gray-50 p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)(m.default,{href:"/",children:(0,a.jsxs)(l.z,{variant:"secondary",className:"flex items-center space-x-2",children:[(0,a.jsx)(i.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Back to Dashboard"})]})}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Panel"})]}),(0,a.jsx)("div",{className:"flex space-x-3",children:(0,a.jsx)(m.default,{href:"/analytics",children:(0,a.jsx)(l.z,{variant:"secondary",children:"Analytics"})})})]}),(0,a.jsxs)("div",{className:"flex space-x-2 border-b",children:[(0,a.jsx)("button",{onClick:()=>b("customers"),className:"px-4 py-2 font-medium rounded-t-lg ".concat("customers"===y?"bg-white border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"),children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(o.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Customers"})]})}),(0,a.jsx)("button",{onClick:()=>b("banks"),className:"px-4 py-2 font-medium rounded-t-lg ".concat("banks"===y?"bg-white border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"),children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(d.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Bank Accounts"})]})})]}),"customers"===y&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(n.Zb,{className:"p-6",children:[(0,a.jsxs)("h2",{className:"text-xl font-semibold mb-4 flex items-center space-x-2",children:[(0,a.jsx)(u.Z,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:"Add New Customer"})]}),(0,a.jsxs)("form",{onSubmit:p,className:"flex items-end space-x-4",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("label",{htmlFor:"customerName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer Name"}),(0,a.jsx)(c.I,{id:"customerName",name:"customerName",type:"text",placeholder:"Enter customer name",required:!0,className:"w-full"})]}),(0,a.jsxs)(l.z,{type:"submit",className:"flex items-center space-x-2",children:[(0,a.jsx)(u.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Add Customer"})]})]})]}),(0,a.jsxs)(n.Zb,{className:"p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Existing Customers"}),0===e.length?(0,a.jsx)("p",{className:"text-gray-500 text-center py-8",children:"No customers found"}):(0,a.jsx)("div",{className:"space-y-2",children:e.map(e=>(0,a.jsx)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium text-gray-900",children:e.name}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["Created: ",new Date(e.created_at).toLocaleDateString()]})]})},e.id))})]})]}),"banks"===y&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(n.Zb,{className:"p-6",children:[(0,a.jsxs)("h2",{className:"text-xl font-semibold mb-4 flex items-center space-x-2",children:[(0,a.jsx)(u.Z,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:"Add New Bank Account"})]}),(0,a.jsxs)("form",{onSubmit:g,className:"flex items-end space-x-4",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("label",{htmlFor:"bankAccountName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Bank Account Name"}),(0,a.jsx)(c.I,{id:"bankAccountName",name:"bankAccountName",type:"text",placeholder:"Enter bank account name",required:!0,className:"w-full"})]}),(0,a.jsxs)(l.z,{type:"submit",className:"flex items-center space-x-2",children:[(0,a.jsx)(u.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Add Account"})]})]})]}),(0,a.jsxs)(n.Zb,{className:"p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Existing Bank Accounts"}),0===s.length?(0,a.jsx)("p",{className:"text-gray-500 text-center py-8",children:"No bank accounts found"}):(0,a.jsx)("div",{className:"space-y-2",children:s.map(e=>(0,a.jsx)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:(0,a.jsx)("div",{className:"font-medium text-gray-900",children:e.name})},e.id))})]})]})]})}},495:function(e,t,s){"use strict";s.d(t,{z:function(){return r}});var a=s(7437);function r(e){let{className:t="",variant:s="default",size:r="default",...n}=e;return(0,a.jsx)("button",{className:"".concat("inline-flex items-center justify-center font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-md transition-colors"," ").concat({default:"px-4 py-2 text-sm",sm:"px-3 py-1.5 text-xs",lg:"px-6 py-3 text-base"}[r]," ").concat({default:"bg-black hover:bg-gray-800 text-white focus:ring-gray-500",secondary:"bg-gray-100 hover:bg-gray-200 text-gray-900 focus:ring-gray-500",outline:"border border-gray-300 bg-white hover:bg-gray-50 text-gray-700 focus:ring-gray-500",destructive:"bg-red-600 hover:bg-red-700 text-white focus:ring-red-500"}[s]," ").concat(t),...n})}s(2265)},6013:function(e,t,s){"use strict";s.d(t,{Zb:function(){return r},aY:function(){return n}});var a=s(7437);function r(e){let{className:t="",...s}=e;return(0,a.jsx)("div",{className:"bg-white border rounded-2xl ".concat(t),...s})}function n(e){let{className:t="",...s}=e;return(0,a.jsx)("div",{className:t,...s})}s(2265)},3102:function(e,t,s){"use strict";s.d(t,{I:function(){return r}});var a=s(7437);let r=s(2265).forwardRef((e,t)=>{let{className:s="",...r}=e;return(0,a.jsx)("input",{ref:t,className:"border rounded-md px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-blue-500 ".concat(s),...r})});r.displayName="Input"},5137:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(8030).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},6273:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(8030).Z)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])},6935:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(8030).Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},1240:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(8030).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])}},function(e){e.O(0,[48,971,23,744],function(){return e(e.s=7165)}),_N_E=e.O()}]);