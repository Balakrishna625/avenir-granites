(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[929],{2414:function(e,t,n){Promise.resolve().then(n.bind(n,7951))},7951:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var a=n(7437),s=n(2265),r=n(6463),l=n(6013),i=n(495),c=n(3102),o=n(5137),d=n(4232),u=n(7138);function m(){let e=(0,r.useRouter)(),[t,n]=(0,s.useState)(!1),[m,x]=(0,s.useState)([]),[g,p]=(0,s.useState)({consignment_number:"",supplier_id:"",arrival_date:"",payment_cash:"",payment_upi:"",transport_cost:"",notes:""});(0,s.useEffect)(()=>{h();let e=new Date().toISOString().slice(2,10).replace(/-/g,""),t="CON-".concat(e,"-").concat(Math.floor(1e3*Math.random()).toString().padStart(3,"0"));p(e=>({...e,consignment_number:t}))},[]);let h=async()=>{try{x([{id:"1",name:"Rising Sun Exports",contact_person:"Manager"},{id:"2",name:"Bargandy Quarry",contact_person:"Sales Head"},{id:"3",name:"Local Granite Quarry",contact_person:"Owner"}])}catch(e){console.error("Error loading suppliers:",e)}},f=async t=>{if(t.preventDefault(),!g.consignment_number||!g.supplier_id||!g.arrival_date){alert("Please fill in all required fields");return}n(!0);try{console.log("Creating consignment:",g);let t=parseFloat(g.payment_cash||"0"),n=parseFloat(g.payment_upi||"0"),a=parseFloat(g.transport_cost||"0");alert("Consignment created successfully!\n\nConsignment Number: ".concat(g.consignment_number,"\nTotal Expenditure: ₹").concat((t+n+a).toLocaleString())),e.push("/consignments")}catch(e){console.error("Error creating consignment:",e),alert("Error creating consignment. Please try again.")}finally{n(!1)}},b=parseFloat(g.payment_cash||"0")+parseFloat(g.payment_upi||"0")+parseFloat(g.transport_cost||"0");return(0,a.jsxs)("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(u.default,{href:"/consignments",children:(0,a.jsxs)(i.z,{variant:"outline",size:"sm",children:[(0,a.jsx)(o.Z,{className:"w-4 h-4 mr-2"}),"Back"]})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"New Consignment"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Create a new granite consignment"})]})]}),(0,a.jsxs)("form",{onSubmit:f,className:"space-y-6",children:[(0,a.jsxs)(l.Zb,{className:"p-6",children:[(0,a.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[(0,a.jsx)(d.Z,{className:"w-5 h-5"}),"Consignment Details"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Consignment Number *"}),(0,a.jsx)(c.I,{value:g.consignment_number,onChange:e=>p({...g,consignment_number:e.target.value}),placeholder:"CON-241005-001",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Supplier *"}),(0,a.jsxs)("select",{value:g.supplier_id,onChange:e=>p({...g,supplier_id:e.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 bg-white",required:!0,children:[(0,a.jsx)("option",{value:"",children:"Select Supplier"}),m.map(e=>(0,a.jsxs)("option",{value:e.id,children:[e.name," (",e.contact_person,")"]},e.id))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Arrival Date *"}),(0,a.jsx)(c.I,{type:"date",value:g.arrival_date,onChange:e=>p({...g,arrival_date:e.target.value}),required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,a.jsx)(c.I,{value:"ACTIVE",disabled:!0,className:"bg-gray-50"})]})]})]}),(0,a.jsxs)(l.Zb,{className:"p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Payment Details"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cash Payment (₹)"}),(0,a.jsx)(c.I,{type:"number",step:"0.01",value:g.payment_cash,onChange:e=>p({...g,payment_cash:e.target.value}),placeholder:"50000"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"UPI Payment (₹)"}),(0,a.jsx)(c.I,{type:"number",step:"0.01",value:g.payment_upi,onChange:e=>p({...g,payment_upi:e.target.value}),placeholder:"25000"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Transport Cost (₹)"}),(0,a.jsx)(c.I,{type:"number",step:"0.01",value:g.transport_cost,onChange:e=>p({...g,transport_cost:e.target.value}),placeholder:"5000"})]})]}),(0,a.jsx)("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-lg font-medium text-gray-900",children:"Total Expenditure:"}),(0,a.jsxs)("span",{className:"text-2xl font-bold text-blue-600",children:["₹",b.toLocaleString()]})]})})]}),(0,a.jsxs)(l.Zb,{className:"p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Additional Information"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes (Optional)"}),(0,a.jsx)("textarea",{value:g.notes,onChange:e=>p({...g,notes:e.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 h-24 resize-none",placeholder:"Any additional notes about this consignment..."})]})]}),(0,a.jsxs)("div",{className:"flex gap-4 justify-end",children:[(0,a.jsx)(u.default,{href:"/consignments",children:(0,a.jsx)(i.z,{variant:"outline",type:"button",children:"Cancel"})}),(0,a.jsx)(i.z,{type:"submit",disabled:t,children:t?"Creating...":"Create Consignment"})]})]})]})}},495:function(e,t,n){"use strict";n.d(t,{z:function(){return s}});var a=n(7437);function s(e){let{className:t="",variant:n="default",size:s="default",...r}=e;return(0,a.jsx)("button",{className:"".concat("inline-flex items-center justify-center font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-md transition-colors"," ").concat({default:"px-4 py-2 text-sm",sm:"px-3 py-1.5 text-xs",lg:"px-6 py-3 text-base"}[s]," ").concat({default:"bg-black hover:bg-gray-800 text-white focus:ring-gray-500",secondary:"bg-gray-100 hover:bg-gray-200 text-gray-900 focus:ring-gray-500",outline:"border border-gray-300 bg-white hover:bg-gray-50 text-gray-700 focus:ring-gray-500",destructive:"bg-red-600 hover:bg-red-700 text-white focus:ring-red-500"}[n]," ").concat(t),...r})}n(2265)},6013:function(e,t,n){"use strict";n.d(t,{Zb:function(){return s},aY:function(){return r}});var a=n(7437);function s(e){let{className:t="",...n}=e;return(0,a.jsx)("div",{className:"bg-white border rounded-2xl ".concat(t),...n})}function r(e){let{className:t="",...n}=e;return(0,a.jsx)("div",{className:t,...n})}n(2265)},3102:function(e,t,n){"use strict";n.d(t,{I:function(){return s}});var a=n(7437);let s=n(2265).forwardRef((e,t)=>{let{className:n="",...s}=e;return(0,a.jsx)("input",{ref:t,className:"border rounded-md px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-blue-500 ".concat(n),...s})});s.displayName="Input"},5137:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,n(8030).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},4232:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,n(8030).Z)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},6463:function(e,t,n){"use strict";var a=n(1169);n.o(a,"useParams")&&n.d(t,{useParams:function(){return a.useParams}}),n.o(a,"usePathname")&&n.d(t,{usePathname:function(){return a.usePathname}}),n.o(a,"useRouter")&&n.d(t,{useRouter:function(){return a.useRouter}})}},function(e){e.O(0,[48,971,23,744],function(){return e(e.s=2414)}),_N_E=e.O()}]);