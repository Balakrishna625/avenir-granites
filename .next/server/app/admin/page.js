(()=>{var e={};e.id=3,e.ids=[3],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1463:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>d,routeModule:()=>u,tree:()=>c}),s(8748),s(9e3),s(5866);var r=s(3191),a=s(8716),n=s(7922),i=s.n(n),l=s(5231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let c=["",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,8748)),"/Users/bala/Downloads/granite-ledger-1/app/admin/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,9e3)),"/Users/bala/Downloads/granite-ledger-1/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/bala/Downloads/granite-ledger-1/app/admin/page.tsx"],m="/admin/page",x={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/page",pathname:"/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},9159:(e,t,s)=>{Promise.resolve().then(s.bind(s,8381))},7576:(e,t,s)=>{Promise.resolve().then(s.bind(s,3812))},7089:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},8381:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var r=s(326),a=s(7577),n=s(3071),i=s(4432),l=s(772),o=s(6333),c=s(4061),d=s(8916),m=s(3961),x=s(434);function u(){let[e,t]=(0,a.useState)([]),[s,u]=(0,a.useState)([]),[g,h]=(0,a.useState)(!0),[p,b]=(0,a.useState)("customers");async function f(e){e.preventDefault();let s=String(new FormData(e.currentTarget).get("customerName")||"").trim();if(!s){alert("Customer name is required");return}try{let r=await fetch("/api/customers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:s})}),a=await r.json();if(!r.ok){alert(a.error||"Failed to create customer");return}t(e=>[a,...e]),e.currentTarget.reset(),alert("Customer added successfully!")}catch(e){console.error("Failed to add customer:",e),alert("Failed to add customer. Please try again.")}}async function y(e){e.preventDefault();let t=String(new FormData(e.currentTarget).get("bankAccountName")||"").trim();if(!t){alert("Bank account name is required");return}try{let s=await fetch("/api/bank-accounts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t})}),r=await s.json();if(!s.ok){alert(r.error||"Failed to create bank account");return}u(e=>[r,...e]),e.currentTarget.reset(),alert("Bank account added successfully!")}catch(e){console.error("Failed to add bank account:",e),alert("Failed to add bank account. Please try again.")}}return g?r.jsx("div",{className:"min-h-screen w-full bg-gray-50 flex items-center justify-center",children:r.jsx("div",{className:"text-lg text-gray-600",children:"Loading..."})}):(0,r.jsxs)("div",{className:"min-h-screen w-full bg-gray-50 p-6 space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[r.jsx(x.default,{href:"/",children:(0,r.jsxs)(l.z,{variant:"secondary",className:"flex items-center space-x-2",children:[r.jsx(o.Z,{className:"w-4 h-4"}),r.jsx("span",{children:"Back to Dashboard"})]})}),r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Panel"})]}),r.jsx("div",{className:"flex space-x-3",children:r.jsx(x.default,{href:"/analytics",children:r.jsx(l.z,{variant:"secondary",children:"Analytics"})})})]}),(0,r.jsxs)("div",{className:"flex space-x-2 border-b",children:[r.jsx("button",{onClick:()=>b("customers"),className:`px-4 py-2 font-medium rounded-t-lg ${"customers"===p?"bg-white border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx(c.Z,{className:"w-4 h-4"}),r.jsx("span",{children:"Customers"})]})}),r.jsx("button",{onClick:()=>b("banks"),className:`px-4 py-2 font-medium rounded-t-lg ${"banks"===p?"bg-white border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx(d.Z,{className:"w-4 h-4"}),r.jsx("span",{children:"Bank Accounts"})]})})]}),"customers"===p&&(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)(n.Zb,{className:"p-6",children:[(0,r.jsxs)("h2",{className:"text-xl font-semibold mb-4 flex items-center space-x-2",children:[r.jsx(m.Z,{className:"w-5 h-5"}),r.jsx("span",{children:"Add New Customer"})]}),(0,r.jsxs)("form",{onSubmit:f,className:"flex items-end space-x-4",children:[(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("label",{htmlFor:"customerName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer Name"}),r.jsx(i.I,{id:"customerName",name:"customerName",type:"text",placeholder:"Enter customer name",required:!0,className:"w-full"})]}),(0,r.jsxs)(l.z,{type:"submit",className:"flex items-center space-x-2",children:[r.jsx(m.Z,{className:"w-4 h-4"}),r.jsx("span",{children:"Add Customer"})]})]})]}),(0,r.jsxs)(n.Zb,{className:"p-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Existing Customers"}),0===e.length?r.jsx("p",{className:"text-gray-500 text-center py-8",children:"No customers found"}):r.jsx("div",{className:"space-y-2",children:e.map(e=>r.jsx("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:(0,r.jsxs)("div",{children:[r.jsx("div",{className:"font-medium text-gray-900",children:e.name}),(0,r.jsxs)("div",{className:"text-sm text-gray-500",children:["Created: ",new Date(e.created_at).toLocaleDateString()]})]})},e.id))})]})]}),"banks"===p&&(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)(n.Zb,{className:"p-6",children:[(0,r.jsxs)("h2",{className:"text-xl font-semibold mb-4 flex items-center space-x-2",children:[r.jsx(m.Z,{className:"w-5 h-5"}),r.jsx("span",{children:"Add New Bank Account"})]}),(0,r.jsxs)("form",{onSubmit:y,className:"flex items-end space-x-4",children:[(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("label",{htmlFor:"bankAccountName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Bank Account Name"}),r.jsx(i.I,{id:"bankAccountName",name:"bankAccountName",type:"text",placeholder:"Enter bank account name",required:!0,className:"w-full"})]}),(0,r.jsxs)(l.z,{type:"submit",className:"flex items-center space-x-2",children:[r.jsx(m.Z,{className:"w-4 h-4"}),r.jsx("span",{children:"Add Account"})]})]})]}),(0,r.jsxs)(n.Zb,{className:"p-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Existing Bank Accounts"}),0===s.length?r.jsx("p",{className:"text-gray-500 text-center py-8",children:"No bank accounts found"}):r.jsx("div",{className:"space-y-2",children:s.map(e=>r.jsx("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:r.jsx("div",{className:"font-medium text-gray-900",children:e.name})},e.id))})]})]})]})}},772:(e,t,s)=>{"use strict";s.d(t,{z:()=>a});var r=s(326);function a({className:e="",variant:t="default",size:s="default",...a}){return r.jsx("button",{className:`inline-flex items-center justify-center font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-md transition-colors ${{default:"px-4 py-2 text-sm",sm:"px-3 py-1.5 text-xs",lg:"px-6 py-3 text-base"}[s]} ${{default:"bg-black hover:bg-gray-800 text-white focus:ring-gray-500",secondary:"bg-gray-100 hover:bg-gray-200 text-gray-900 focus:ring-gray-500",outline:"border border-gray-300 bg-white hover:bg-gray-50 text-gray-700 focus:ring-gray-500",destructive:"bg-red-600 hover:bg-red-700 text-white focus:ring-red-500"}[t]} ${e}`,...a})}s(7577)},3071:(e,t,s)=>{"use strict";s.d(t,{Zb:()=>a,aY:()=>n});var r=s(326);function a({className:e="",...t}){return r.jsx("div",{className:`bg-white border rounded-2xl ${e}`,...t})}function n({className:e="",...t}){return r.jsx("div",{className:e,...t})}s(7577)},4432:(e,t,s)=>{"use strict";s.d(t,{I:()=>a});var r=s(326);let a=s(7577).forwardRef(({className:e="",...t},s)=>r.jsx("input",{ref:s,className:`border rounded-md px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-blue-500 ${e}`,...t}));a.displayName="Input"},3812:(e,t,s)=>{"use strict";s.d(t,{ToastProvider:()=>x,p:()=>d});var r=s(326),a=s(7577),n=s.n(a),i=s(361),l=s(9669),o=s(4019);let c=n().createContext(void 0),d=()=>{let e=n().useContext(c);if(!e)throw Error("useToast must be used within a ToastProvider");return e},m=({id:e,type:t,message:s,onClose:n})=>((0,a.useEffect)(()=>{let t=setTimeout(()=>{n(e)},5e3);return()=>clearTimeout(t)},[e,n]),(0,r.jsxs)("div",{className:`
      flex items-center p-4 mb-3 rounded-lg shadow-lg max-w-sm 
      transform transition-all duration-300 ease-in-out
      ${"success"===t?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}
    `,children:[r.jsx("div",{className:"flex-shrink-0 mr-3",children:"success"===t?r.jsx(i.Z,{className:"h-5 w-5 text-green-400"}):r.jsx(l.Z,{className:"h-5 w-5 text-red-400"})}),r.jsx("div",{className:"flex-1 text-sm font-medium",children:s}),r.jsx("button",{onClick:()=>n(e),className:`
          ml-2 inline-flex rounded-md p-1.5 focus:outline-none focus:ring-2 focus:ring-offset-2
          ${"success"===t?"text-green-500 hover:bg-green-100 focus:ring-green-600":"text-red-500 hover:bg-red-100 focus:ring-red-600"}
        `,children:r.jsx(o.Z,{className:"h-4 w-4"})})]})),x=({children:e})=>{let[t,s]=(0,a.useState)([]),n=e=>{s(t=>t.filter(t=>t.id!==e))};return(0,r.jsxs)(c.Provider,{value:{showToast:(e,t)=>{let r=Math.random().toString(36).substring(2,9);s(s=>[...s,{id:r,type:e,message:t}])}},children:[e,r.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:t.map(e=>r.jsx(m,{id:e.id,type:e.type,message:e.message,onClose:n},e.id))})]})}},6333:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(2881).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},3961:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(2881).Z)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])},8748:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>i,__esModule:()=>n,default:()=>l});var r=s(8570);let a=(0,r.createProxy)(String.raw`/Users/bala/Downloads/granite-ledger-1/app/admin/page.tsx`),{__esModule:n,$$typeof:i}=a;a.default;let l=(0,r.createProxy)(String.raw`/Users/bala/Downloads/granite-ledger-1/app/admin/page.tsx#default`)},9e3:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d,metadata:()=>c});var r=s(9510),a=s(8570);let n=(0,a.createProxy)(String.raw`/Users/bala/Downloads/granite-ledger-1/components/ui/toast.tsx`),{__esModule:i,$$typeof:l}=n;n.default,(0,a.createProxy)(String.raw`/Users/bala/Downloads/granite-ledger-1/components/ui/toast.tsx#ToastContext`),(0,a.createProxy)(String.raw`/Users/bala/Downloads/granite-ledger-1/components/ui/toast.tsx#useToast`);let o=(0,a.createProxy)(String.raw`/Users/bala/Downloads/granite-ledger-1/components/ui/toast.tsx#ToastProvider`);s(7272);let c={title:"Granite Customer Dashboard"};function d({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{className:"bg-gray-50",children:r.jsx(o,{children:e})})})}},7272:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[948,978,993],()=>s(1463));module.exports=r})();