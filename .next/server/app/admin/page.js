(()=>{var e={};e.id=3,e.ids=[3],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1463:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>o,routeModule:()=>u,tree:()=>d}),s(8748),s(1506),s(5866);var a=s(3191),r=s(8716),n=s(7922),i=s.n(n),l=s(5231),c={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);s.d(t,c);let d=["",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,8748)),"/Users/bala/Downloads/granite-ledger-1/app/admin/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,1506)),"/Users/bala/Downloads/granite-ledger-1/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],o=["/Users/bala/Downloads/granite-ledger-1/app/admin/page.tsx"],m="/admin/page",x={require:s,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/page",pathname:"/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},9159:(e,t,s)=>{Promise.resolve().then(s.bind(s,8381))},2788:()=>{},7089:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},8381:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var a=s(326),r=s(7577),n=s(3071),i=s(4432),l=s(772),c=s(6333),d=s(4061),o=s(8916),m=s(3961),x=s(434);function u(){let[e,t]=(0,r.useState)([]),[s,u]=(0,r.useState)([]),[h,p]=(0,r.useState)(!0),[g,y]=(0,r.useState)("customers");async function b(e){e.preventDefault();let s=String(new FormData(e.currentTarget).get("customerName")||"").trim();if(!s){alert("Customer name is required");return}try{let a=await fetch("/api/customers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:s})}),r=await a.json();if(!a.ok){alert(r.error||"Failed to create customer");return}t(e=>[r,...e]),e.currentTarget.reset(),alert("Customer added successfully!")}catch(e){console.error("Failed to add customer:",e),alert("Failed to add customer. Please try again.")}}async function f(e){e.preventDefault();let t=String(new FormData(e.currentTarget).get("bankAccountName")||"").trim();if(!t){alert("Bank account name is required");return}try{let s=await fetch("/api/bank-accounts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t})}),a=await s.json();if(!s.ok){alert(a.error||"Failed to create bank account");return}u(e=>[a,...e]),e.currentTarget.reset(),alert("Bank account added successfully!")}catch(e){console.error("Failed to add bank account:",e),alert("Failed to add bank account. Please try again.")}}return h?a.jsx("div",{className:"min-h-screen w-full bg-gray-50 flex items-center justify-center",children:a.jsx("div",{className:"text-lg text-gray-600",children:"Loading..."})}):(0,a.jsxs)("div",{className:"min-h-screen w-full bg-gray-50 p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[a.jsx(x.default,{href:"/",children:(0,a.jsxs)(l.z,{variant:"secondary",className:"flex items-center space-x-2",children:[a.jsx(c.Z,{className:"w-4 h-4"}),a.jsx("span",{children:"Back to Dashboard"})]})}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Panel"})]}),a.jsx("div",{className:"flex space-x-3",children:a.jsx(x.default,{href:"/analytics",children:a.jsx(l.z,{variant:"secondary",children:"Analytics"})})})]}),(0,a.jsxs)("div",{className:"flex space-x-2 border-b",children:[a.jsx("button",{onClick:()=>y("customers"),className:`px-4 py-2 font-medium rounded-t-lg ${"customers"===g?"bg-white border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(d.Z,{className:"w-4 h-4"}),a.jsx("span",{children:"Customers"})]})}),a.jsx("button",{onClick:()=>y("banks"),className:`px-4 py-2 font-medium rounded-t-lg ${"banks"===g?"bg-white border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(o.Z,{className:"w-4 h-4"}),a.jsx("span",{children:"Bank Accounts"})]})})]}),"customers"===g&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(n.Zb,{className:"p-6",children:[(0,a.jsxs)("h2",{className:"text-xl font-semibold mb-4 flex items-center space-x-2",children:[a.jsx(m.Z,{className:"w-5 h-5"}),a.jsx("span",{children:"Add New Customer"})]}),(0,a.jsxs)("form",{onSubmit:b,className:"flex items-end space-x-4",children:[(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("label",{htmlFor:"customerName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer Name"}),a.jsx(i.I,{id:"customerName",name:"customerName",type:"text",placeholder:"Enter customer name",required:!0,className:"w-full"})]}),(0,a.jsxs)(l.z,{type:"submit",className:"flex items-center space-x-2",children:[a.jsx(m.Z,{className:"w-4 h-4"}),a.jsx("span",{children:"Add Customer"})]})]})]}),(0,a.jsxs)(n.Zb,{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Existing Customers"}),0===e.length?a.jsx("p",{className:"text-gray-500 text-center py-8",children:"No customers found"}):a.jsx("div",{className:"space-y-2",children:e.map(e=>a.jsx("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:(0,a.jsxs)("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:e.name}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["Created: ",new Date(e.created_at).toLocaleDateString()]})]})},e.id))})]})]}),"banks"===g&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(n.Zb,{className:"p-6",children:[(0,a.jsxs)("h2",{className:"text-xl font-semibold mb-4 flex items-center space-x-2",children:[a.jsx(m.Z,{className:"w-5 h-5"}),a.jsx("span",{children:"Add New Bank Account"})]}),(0,a.jsxs)("form",{onSubmit:f,className:"flex items-end space-x-4",children:[(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("label",{htmlFor:"bankAccountName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Bank Account Name"}),a.jsx(i.I,{id:"bankAccountName",name:"bankAccountName",type:"text",placeholder:"Enter bank account name",required:!0,className:"w-full"})]}),(0,a.jsxs)(l.z,{type:"submit",className:"flex items-center space-x-2",children:[a.jsx(m.Z,{className:"w-4 h-4"}),a.jsx("span",{children:"Add Account"})]})]})]}),(0,a.jsxs)(n.Zb,{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Existing Bank Accounts"}),0===s.length?a.jsx("p",{className:"text-gray-500 text-center py-8",children:"No bank accounts found"}):a.jsx("div",{className:"space-y-2",children:s.map(e=>a.jsx("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:a.jsx("div",{className:"font-medium text-gray-900",children:e.name})},e.id))})]})]})]})}},772:(e,t,s)=>{"use strict";s.d(t,{z:()=>r});var a=s(326);function r({className:e="",variant:t="default",size:s="default",...r}){return a.jsx("button",{className:`inline-flex items-center justify-center font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-md transition-colors ${{default:"px-4 py-2 text-sm",sm:"px-3 py-1.5 text-xs",lg:"px-6 py-3 text-base"}[s]} ${{default:"bg-black hover:bg-gray-800 text-white focus:ring-gray-500",secondary:"bg-gray-100 hover:bg-gray-200 text-gray-900 focus:ring-gray-500",outline:"border border-gray-300 bg-white hover:bg-gray-50 text-gray-700 focus:ring-gray-500",destructive:"bg-red-600 hover:bg-red-700 text-white focus:ring-red-500"}[t]} ${e}`,...r})}s(7577)},3071:(e,t,s)=>{"use strict";s.d(t,{Zb:()=>r,aY:()=>n});var a=s(326);function r({className:e="",...t}){return a.jsx("div",{className:`bg-white border rounded-2xl ${e}`,...t})}function n({className:e="",...t}){return a.jsx("div",{className:e,...t})}s(7577)},4432:(e,t,s)=>{"use strict";s.d(t,{I:()=>r});var a=s(326);let r=s(7577).forwardRef(({className:e="",...t},s)=>a.jsx("input",{ref:s,className:`border rounded-md px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-blue-500 ${e}`,...t}));r.displayName="Input"},6333:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(2881).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},3961:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(2881).Z)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])},8916:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(2881).Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},4061:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(2881).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},8748:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>i,__esModule:()=>n,default:()=>l});var a=s(8570);let r=(0,a.createProxy)(String.raw`/Users/bala/Downloads/granite-ledger-1/app/admin/page.tsx`),{__esModule:n,$$typeof:i}=r;r.default;let l=(0,a.createProxy)(String.raw`/Users/bala/Downloads/granite-ledger-1/app/admin/page.tsx#default`)},1506:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n,metadata:()=>r});var a=s(9510);s(7272);let r={title:"Granite Customer Dashboard"};function n({children:e}){return a.jsx("html",{lang:"en",children:a.jsx("body",{className:"bg-gray-50",children:e})})}},7272:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[948,471,705],()=>s(1463));module.exports=a})();